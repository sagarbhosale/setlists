import React, { useState } from 'react';
import { Music, Snowflake, Gift, Star, Trees } from 'lucide-react';

const SongCard = ({ title, icon: Icon, children, decorations }) => (
  <div className="bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 md:p-8 mb-8 border-4 border-green-700 relative overflow-hidden transition-transform hover:scale-[1.01] duration-300">
    {decorations && (
      <div className="absolute top-0 right-0 p-4 opacity-10 text-green-800 transform rotate-12 pointer-events-none">
        <Trees size={120} />
      </div>
    )}

    <div className="flex items-center gap-3 mb-6 border-b-2 border-red-100 pb-4 relative z-10">
      <div className="bg-red-600 p-3 rounded-full text-white shadow-md">
        <Icon size={24} />
      </div>
      <h2 className="text-2xl md:text-3xl font-christmas font-bold text-red-700">
        {title}
      </h2>
    </div>

    <div className="text-gray-800 leading-relaxed font-semibold text-lg whitespace-pre-line relative z-10">
      {children}
    </div>
  </div>
);

const App = () => {
  const [figsMode, setFigsMode] = useState(false);

  return (
    <div className="min-h-screen py-10 px-4 md:px-8 max-w-4xl mx-auto font-sans bg-[#8b0000] relative">
      {/* Dynamic Styles for Font and Background Pattern */}
      <style>{`
        @import url('https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Nunito:wght@400;600;700&display=swap');
        
        body {
          font-family: 'Nunito', sans-serif;
        }
        
        .font-christmas {
          font-family: 'Mountains of Christmas', cursive;
        }

        /* SVG Background Pattern */
        .bg-pattern {
          background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 50 L52 55 L58 52 L54 58 L58 62 L52 60 L50 66 L48 60 L42 62 L46 58 L42 52 L48 55 Z' fill='%23ffffff' fill-opacity='0.1'/%3E%3C/svg%3E");
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 8s linear infinite;
        }
      `}</style>
      
      {/* Background Overlay */}
      <div className="absolute inset-0 bg-pattern pointer-events-none" />

      {/* Header */}
      <header className="text-center mb-12 text-white relative z-10">
        <div className="flex justify-center items-center gap-4 mb-2">
          <Snowflake className="animate-spin-slow text-blue-200" size={40} />
          <h1 className="text-5xl md:text-7xl font-christmas font-bold drop-shadow-lg text-yellow-300">
            Holiday Carols
          </h1>
          <Snowflake className="animate-spin-slow text-blue-200" size={40} />
        </div>
        <p className="text-xl text-red-100 font-christmas">
          Sing along to your favorites!
        </p>
      </header>

      {/* Song 1: Rudolph */}
      <SongCard
        title="Rudolph the Red-Nosed Reindeer"
        icon={Star}
        decorations={true}
      >
        <p className="mb-4 text-gray-600 italic">
          You know Dasher and Dancer<br />
          And Prancer and Vixen<br />
          Comet and Cupid<br />
          And Donner and Blitzen<br />
          But do you recall<br />
          The most famous reindeer of all
        </p>

        <p>
          Rudolph the red-nosed reindeer<br />
          Had a very shiny nose<br />
          And if you ever saw it<br />
          You would even say it glows{" "}
          <span className="text-red-500 font-bold">(Shiny nose)</span>
        </p>
        <p className="mt-4">
          All of the other reindeer<br />
          Used to laugh and call him names<br />
          They never let poor Rudolph<br />
          Join in any reindeer games{" "}
          <span className="text-red-500 font-bold">(Oh NOOOO)</span>
        </p>
        <p className="mt-4">
          Then one foggy Christmas Eve<br />
          Santa came to say{" "}
          <span className="text-green-600 font-bold">(HO HO HO)</span>
          <br />
          Rudolph, with your nose so bright<br />
          Won't you guide my sleigh tonight?
        </p>
        <p className="mt-4">
          Then how the reindeer loved him<br />
          As they shouted out with glee{" "}
          <span className="text-red-500 font-bold">(GO Rudolf)</span>
          <br />
          Rudolph the red-nosed reindeer<br />
          You'll go down in history!
        </p>
      </SongCard>

      {/* Song 2: All I Want for Christmas is You */}
      <SongCard
        title="All I Want for Christmas is You"
        icon={Gift}
        decorations={true}
      >
        <p>
          I don't want a lot for Christmas<br />
          There is just one thing I need<br />
          I don't care about the presents<br />
          Underneath the Christmas tree
        </p>
        <p className="mt-4">
          I just want you for my own<br />
          More than you could ever know<br />
          Make my wish come true<br />
          All I want for Christmas is you...
        </p>
        <p className="mt-4">
          I won't ask for much this Christmas<br />
          I won't even wish for snow<br />
          And I'm just gonna keep on waiting<br />
          Underneath the mistletoe
        </p>
        <p className="mt-4">
          I won't make a list and send it<br />
          To the North Pole for Saint Nick<br />
          I won't even stay awake to<br />
          Hear those magic reindeer click
        </p>
        <p className="mt-4">
          'Cause I just want you here tonight<br />
          Holding on to me so tight<br />
          What more can I do?<br />
          Baby, all I want for Christmas is you
        </p>
      </SongCard>

      {/* Song 3: It's Beginning to Look a Lot Like Christmas */}
      <div
        className={`bg-white/95 backdrop-blur-sm rounded-2xl shadow-xl p-6 md:p-8 mb-8 border-4 relative overflow-hidden transition-colors duration-500 z-10 ${
          figsMode ? "border-blue-500 bg-blue-50/95" : "border-green-700"
        }`}
      >
        {/* Decorative Background Icon */}
        <div className="absolute top-0 right-0 p-4 opacity-10 transform rotate-12 pointer-events-none">
          <Trees
            size={120}
            className={figsMode ? "text-blue-800" : "text-green-800"}
          />
        </div>

        <div className="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6 border-b-2 border-opacity-20 pb-4 relative z-10 border-gray-400">
          <div className="flex items-center gap-3">
            <div
              className={`p-3 rounded-full text-white shadow-md transition-colors duration-300 ${
                figsMode ? "bg-blue-600" : "bg-red-600"
              }`}
            >
              <Music size={24} />
            </div>
            <h2
              className={`text-2xl md:text-3xl font-christmas font-bold transition-colors duration-300 ${
                figsMode ? "text-blue-700" : "text-red-700"
              }`}
            >
              {figsMode
                ? "It's Beginning to Look a Lot Like FiGS"
                : "It's Beginning to Look a Lot Like Christmas"}
            </h2>
          </div>

          {/* Toggle Switch */}
          <label
            htmlFor="figs-toggle"
            className="flex items-center cursor-pointer select-none bg-gray-100 p-2 rounded-lg border border-gray-200 shadow-inner"
          >
            <div className="relative">
              <input
                type="checkbox"
                id="figs-toggle"
                className="sr-only peer"
                checked={figsMode}
                onChange={() => setFigsMode(!figsMode)}
              />
              <div
                className={`block w-14 h-8 rounded-full transition-colors duration-300 ${
                  figsMode ? "bg-blue-500" : "bg-gray-400"
                }`}
              ></div>
              <div
                className={`absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-300 ${
                  figsMode ? "transform translate-x-6" : ""
                }`}
              ></div>
            </div>
            <div className="ml-3 text-sm font-bold text-gray-700">
              Enable FiGS Mode
            </div>
          </label>
        </div>

        <div className="text-gray-800 leading-relaxed font-semibold text-lg whitespace-pre-line relative z-10 transition-opacity duration-300 animate-in fade-in">
          {figsMode ? (
            // FiGS Mode Lyrics
            <div key="figs">
              <p>
                It's beginning to look a lot like Christmas<br />
                Everywhere you go<br />
                Take a look at the Fi Intent, increasing retention again<br />
                With Pixel 10s and Android, FiGS aglow
              </p>
              <p className="mt-4">
                It's beginning to look a lot like Christmas<br />
                Joy in Fi and Store<br />
                But the prettiest sight to see is the Pixels that will be<br />
                Sold in all gStore
              </p>
              <p className="mt-4">
                To sell subscriptions in loads and Pixel Pro Folds<br />
                Is the wish of Jasper and Dan<br />
                Phones with Fi also Gemini<br />
                Is the hope of Meaghan and Blair<br />
                And managers can hardly wait for GRAD to start again
              </p>
              <p className="mt-4">
                It's beginning to look a lot like Christmas<br />
                Everywhere you go<br />
                Take a look at the Fi Intent, increasing retention again<br />
                With Pixel 10s and Android, FiGS aglow
              </p>
              <p className="mt-4">
                It's beginning to look a lot like Christmas<br />
                Joy in Fi and Store<br />
                But the prettiest sight to see is the Pixels that will be<br />
                Sold in all gStore
              </p>
            </div>
          ) : (
            // Standard Lyrics
            <div key="standard">
              <p>
                It's beginning to look a lot like Christmas<br />
                Everywhere you go<br />
                Take a look in the five-and-ten, glistening once again<br />
                With candy canes and silver lanes aglow
              </p>
              <p className="mt-4">
                It's beginning to look a lot like Christmas<br />
                Toys in every store<br />
                But the prettiest sight to see is the holly that will be<br />
                On your own front door
              </p>
              <p className="mt-4">
                A pair of hopalong boots and a pistol that shoots<br />
                Is the wish of Barney and Ben<br />
                Dolls that will talk and will go for a walk<br />
                Is the hope of Janice and Jen<br />
                And Mom and Dad can hardly wait for school to start again
              </p>
              <p className="mt-4">
                It's beginning to look a lot like Christmas<br />
                Everywhere you go<br />
                There's a tree in the Grand Hotel, one in the park as well<br />
                The sturdy kind that doesn't mind the snow
              </p>
              <p className="mt-4">
                It's beginning to look a lot like Christmas<br />
                Soon the bells will start<br />
                And the thing that will make them ring is the carol that you
                sing<br />
                Right within your heart
              </p>
            </div>
          )}
        </div>
      </div>

      <footer className="text-center text-red-200 text-sm mt-12 pb-4 font-christmas text-lg">
        <p>ðŸŽ„ Happy Holidays! ðŸŽ„</p>
      </footer>
    </div>
  );
};

export default App;
